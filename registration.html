<!DOCTYPE HTML>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Noto+Serif:wght@300&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“‘</text></svg>">
  <title>Registration</title>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7NB4LF8R9Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7NB4LF8R9Q');
</script>

<body>

  <img class="background" src="images/reg-bg-img.jpg">

<div class="w3-top">
  <div class="w3-bar w3-black w3-padding w3-card" style="letter-spacing:4px;">
    <a href="index.html" class="w3-bar-item w3-button">CONVIVIUM 2024</a>
    <!-- <a href="index.html"> 
      <img src="images/convivium-2024-no-bg.png" class="logo-img">
   </a> -->    <div class="nav-button w3-right w3-hide-small">
      <a href="home.html" class="w3-bar-item w3-button">Details</a>
      <a href="faq.html" class="w3-bar-item w3-button">FAQ</a>
    </div>
  </div>
</div>

<header class="w3-display-container w3-content w3-wide" style="max-width:1500px;min-width:500px" id="home">
  <div class="image-container">
    <img class="w3-image" src="images/reg-bg-img-cut.jpg" alt="Hamburger Catering" width="1500" height="600">
    <div class="text-overlay" style="padding-top: 10px;">
      <h1 class="w3-xxlarge" style="color: white;">Event registration</h1>
    </div>
  </div>
</header>

<div class="w3-content" style="max-width:1100px">

<div class="reg-form text-container">
  <h3 style="color:white;">Welcome to Convivium 2024 registration. </h4>
  <p class="w3-large" style="color:white;">Fill out the form below to register to Convivium 2024. If you have any questions, contact the organizing team at <a href="mailto:convivium2024@gmail.com">convivium2024@gmail.com</a>.
</p>

</div>

<div class="reg-form w3-display-container w3-black-form w3-round-xlarge">
  <h5 id="msg"></h5>

  <h5 style="color:white;"> Convivium 2024 Registration Form </h5>

  <form id="registrationForm" class="registration-form">
    <label for="fname">First Name</label><br>
    <input type="text" id="fname" name="firstname" placeholder="Your First name..." required><br><br>

    <label for="lname">Last Name</label><br>
    <input type="text" id="lname" name="lastname" placeholder="Your Last name..." required><br><br>

    <label for="fname">Email Address</label><br>
    <input type="email" id="email" name="email" placeholder="Your Minerva University Email address..." required><br><br>

    <label for="gradYear">What year did you graduate from Minerva?</label><br>
    <select id="gradYear" name="gradYear" required>
      <option value="" selected disabled hidden>Please select your class year</option>
      <option value="2019">2019</option>
      <option value="2020">2020</option>
      <option value="2021">2021</option>
      <option value="2022">2022</option>
      <option value="2023">2023</option>
    </select><br><br>

    <label for="pronouns">What are your pronouns?</label><br>
    <select id="pronouns" name="pronouns">
      <option value="">Please select your prefered pronouns</option>
      <option value="she">she/her/hers</option>
      <option value="he">he/him/his</option>
      <option value="they">they/them/theirs</option>
    </select><br><br>

    <label for="diet">What Dietary restrictions do you have?</label><br>
    <select id="diet" name="diet" required onchange="showDietOtherDiv('dietOther', this)">
      <option value="none">None</option>
      <option value="Vegan">Vegan</option>
      <option value="Vegetarian">Vegetarian</option>
      <option value="Gluten-free">Gluten-free</option>
      <option value="Pescetarian">Pescetarian</option>
      <option value="Other" onchange="displayQuestion(this.value)" >Other. Please specify below</option>
    </select><br><br>

    <div id="dietOther" style="display:none;">
     <label for="dietOther">Please specify your Dietary restrictions </label><br>
     <input type="text" id="dietOtherInput" name="dietOther" placeholder="Please specify your Dietary restrictions..."><br><br>
    </div>

    <label for="accessNeed">Do you have any access needs or would you like to request for a disability accommodations?</label><br>
    <select id="accessNeed" name="accessNeed" onchange="showAccessNeedDiv('accessNeedDetails', this)" required>
      <option value="">None</option>
      <option value="yes">Yes</option>
      <option value="no">No</option>
    </select><br><br>

    <div id="accessNeedDetails" style="display:none;">
     <label for="accessNeedDetails">Please specify your access needs </label><br>
     <input type="text" id="accessNeedDetailsInput" name="accessNeedDetails" placeholder="Please specify your Accessibility needs..."><br><br>
    </div>

    <label for="paymentType">What is your prefered payment option</label><br>
    <select id="paymentType" name="paymentType" onchange="showPaymentTypeDiv('finAid', 'paymentConfirmation', this)" required>
      <option value="">None</option>
      <option value="finAid">I would like to apply for Financial Aid</option>
      <option value="payDeposit">I paid the $200 deposit fee</option>
      <option value="payFull">I paid the $500 full participation fee</option>
    </select><br><br>

    <div id="finAid" style="display:none;">
     <label for="finAidQuestion1">How much are you able to pay?</label><br>
     <input type="text" id="finAidQuestion1Input" name="finAidQuestion1" placeholder="Please specify the amount you are able to pay"><br><br>

      <label for="finAidQuestion2">Please specify in details why are you applying for financial aid? </label><br>
      <textarea rows="5" cols="60"  id="finAidQuestion2Input" name="finAidQuestion2" placeholder="Please specify your Financial needs..."></textarea>
    </div>

    <div id="paymentConfirmation" style="display:none;">
      <label for="paymentOption">What payment option did you use?</label><br>
      <select id="paymentOptionInput" name="paymentOption">
      <option value="">None</option>
      <option value="venmo">Venmo</option>
      <option value="bankTransfer">Bank Transfer</option>
      <option value="payPal">PayPal</option>
    </select><br><br>

     <label for="paymentConfirmation">Please enter your payment confirmation number </label><br>
     <input type="text" id="paymentConfirmationInput" name="paymentConfirmation" placeholder="Please enter your payment confirmation number"><br><br>
    </div>


    <br><input type="submit" id="sub">
  </form>

</div>


  <hr>
<div class="w3-container w3-padding-64" id="contact" style="color:white;">
    <h1>Contact</h1>
    <p>If you have any questions please contact us at <a href="mailto:convivium2024@gmail.com">convivium2024@gmail.com</a></p>
  </div>

<script>
  let form = document.querySelector("form");
  // The document.querySelector() method returns the first element that matches a specified CSS selector.
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    // The preventDefault() method stops the form from submitting and prevents the page from refreshing.
    document.querySelector("#sub").value = "Submiting...";
    // Change the value of the submit button to "Submitting..." while the form is being submitted.
    let data = new FormData(form);
    // The FormData() method creates a new FormData object that contains the values of all the form fields.
    fetch('https://script.google.com/macros/s/AKfycbwQlZwT13d-T_t2SFrPNYAIA_g53jfm9gSAZh3VDi2y73fE-_dfHRmgmCFiHoqeY4S-Cg/exec', {
      method: "POST",
      body: data
    })
    // The fetch() method is used to make a request to the server and retrieve data.
    // This is an example API endpoint. Replace it with the actual URL for the API endpoint you want to use.
    .then(res => res.text())
    // The .then() method is used to handle the response from the server.
    // The response is converted to text using the res.text() method.
    .then(data => {
      document.querySelector("#msg").innerHTML = data;
      // The innerHTML property sets or returns the HTML content of an element.
      // Here, we are setting the content of the <h5> element to the response from the server.
      document.querySelector("#sub").value = "Submitted"
      // Change the value of the submit button back to "Submit" after the form has been submitted.
    })
    .then( event => {
      document.getElementById("registrationForm").style.display = "none";})
  })

  function showDietOtherDiv(divId, element) {
    document.getElementById(divId).style.display = element.value == "Other" ? 'block' : 'none';
    document.getElementById("dietOtherInput").required = element.value == "Other" ? true : false;
  }

  function showAccessNeedDiv(divId, element) {
    document.getElementById(divId).style.display = element.value == "yes" ? 'block' : 'none';
    document.getElementById("accessNeedDetailsInput").required = element.value == "yes" ? true : false;
  }

  function showPaymentTypeDiv(finaid, confirmation, element) {
    document.getElementById(finaid).style.display = element.value == "finAid" ? 'block' : 'none';
    document.getElementById("finAidQuestion1Input").required = element.value == "finAid" ? true : false;
    document.getElementById("finAidQuestion2Input").required = element.value == "finAid" ? true : false;

    document.getElementById(confirmation).style.display =  element.value == "payDeposit" || element.value == "payFull" ? 'block' : 'none';
    document.getElementById("paymentOptionInput").required = element.value == "payDeposit" || element.value == "payFull"  ? true : false;
    document.getElementById("paymentConfirmationInput").required = element.value == "payDeposit" || element.value == "payFull"  ? true : false;
  }

</script>
</body>
</html>
